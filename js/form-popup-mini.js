var btn=document.querySelector(".search-form-btn"),form=document.querySelector(".hotel-search-form"),arrival=form.querySelector("[name=arrival-day]"),departure=form.querySelector("[name=departure-day]"),adults=form.querySelector("[name=adults-counter]"),children=form.querySelector("[name=children-counter]"),isStorageSupport=!0,storageAdults="",storageChildren="";try{storageAdults=localStorage.getItem("adults"),storageChildren=localStorage.getItem("children")}catch(r){isStorageSupport=!1}form.classList.add("form-vanishing"),btn.addEventListener("click",function(r){r.preventDefault(),form.classList.toggle("form-vanishing"),arrival.focus(),form.classList.contains("form-vanishing")?form.classList.remove("search-form-appearance"):form.classList.add("search-form-appearance"),(storageAdults||storageChildren)&&(adults.value=storageAdults,children.value=storageChildren),form.classList.contains("form-error")&&form.classList.remove("form-error")}),form.addEventListener("submit",function(r){form.classList.contains("form-error")&&form.classList.remove("form-error"),arrival.value&&departure.value||(r.preventDefault(),form.classList.add("form-error")),(adults.value||children.value)&&isStorageSupport&&(localStorage.setItem("adults",adults.value),localStorage.setItem("children",children.value))}),window.addEventListener("keydown",function(r){27===r.keyCode&&(form.classList.contains("form-vanishing")||(r.preventDefault(),form.classList.add("form-vanishing")))});
